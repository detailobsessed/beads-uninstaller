<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>beads-uninstaller.sh | Coverage Report</title>
  <style>
    :root {
      --primary: #6366f1; --primary-dark: #4f46e5; --primary-light: #818cf8;
      --success: #10b981; --success-bg: rgba(16, 185, 129, 0.1); --success-border: rgba(16, 185, 129, 0.2);
      --warning: #f59e0b;
      --danger: #ef4444; --danger-bg: rgba(239, 68, 68, 0.1); --danger-border: rgba(239, 68, 68, 0.2);
      --bg-light: #ffffff; --bg-card: #f8fafc; --bg-hover: #e1e5ea; --bg-code: #f6f8fa;
      --text-primary: #0f172a; --text-secondary: #475569; --text-muted: #94a3b8;
      --border: #e2e8f0; --line-number-bg: #f8fafc;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif; background: var(--bg-light); color: var(--text-primary); min-height: 100vh; line-height: 1.6; }
    .header { background: var(--bg-card); border-bottom: 1px solid var(--border); padding: 20px 30px; position: sticky; top: 0; z-index: 100; backdrop-filter: blur(10px); box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .header-content { max-width: 1600px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 20px; }
    .nav-section { display: flex; align-items: center; gap: 20px; flex-wrap: wrap; }
    .back-btn { display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: #475569; border: 2px solid #475569; border-radius: 8px; color: #ffffff; text-decoration: none; font-size: 1rem; font-weight: 600; transition: all 0.2s; box-shadow: 0 2px 4px rgba(71, 85, 105, 0.2); }
    .back-btn:hover { background: #334155; border-color: #334155; box-shadow: 0 4px 12px rgba(51, 65, 85, 0.3); }
    .file-title { display: flex; align-items: center; gap: 12px; }
    .file-name { font-size: 1.3rem; font-weight: 700; font-family: 'SF Mono', 'Consolas', 'Liberation Mono', Menlo, monospace; }
    .stats-section { display: flex; align-items: center; gap: 30px; flex-wrap: wrap; }
    .stat-item { display: flex; align-items: center; gap: 10px; }
    .stat-badge { padding: 8px 16px; border-radius: 20px; font-weight: 600; font-size: 0.9rem; }
    .stat-badge.coverage.high { background: linear-gradient(135deg, var(--success) 0%, #34d399 100%); color: #000; }
    .stat-badge.coverage.medium { background: linear-gradient(135deg, var(--warning) 0%, #fbbf24 100%); color: #000; }
    .stat-badge.coverage.low { background: linear-gradient(135deg, var(--danger) 0%, #f87171 100%); color: #fff; }
    .stat-badge.lines { background: var(--bg-hover); color: var(--text-primary); }
    .stat-label { color: var(--text-secondary); font-size: 0.85rem; }
    .summary-bar { background: var(--bg-card); border-bottom: 1px solid var(--border); padding: 20px 30px; }
    .summary-content { max-width: 1600px; margin: 0 auto; display: flex; align-items: center; gap: 40px; flex-wrap: wrap; }
    .progress-section { flex: 1; min-width: 300px; }
    .progress-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
    .progress-label { color: var(--text-secondary); font-size: 0.9rem; }
    .progress-percent { font-weight: 700; }
    .progress-percent.high { color: var(--success); }
    .progress-percent.medium { color: var(--warning); }
    .progress-percent.low { color: var(--danger); }
    .progress-bar { height: 12px; background: var(--bg-hover); border-radius: 6px; overflow: hidden; }
    .progress-fill { height: 100%; border-radius: 6px; transition: width 1s ease-out; }
    .progress-fill.high { background: linear-gradient(90deg, #059669 0%, #10b981 100%); }
    .progress-fill.medium { background: linear-gradient(90deg, #d97706 0%, #f59e0b 100%); }
    .progress-fill.low { background: linear-gradient(90deg, #dc2626 0%, #ef4444 100%); }
    .legend { display: flex; gap: 24px; flex-wrap: wrap; }
    .legend-item { display: flex; align-items: center; gap: 8px; font-size: 0.9rem; color: var(--text-secondary); pointer-events: none; }
    .legend-color { width: 16px; height: 16px; border-radius: 4px; }
    .legend-color.covered { background: var(--success); }
    .legend-color.uncovered { background: var(--danger); }
    .legend-color.neutral { background: var(--text-muted); }
    .code-container { max-width: 1600px; margin: 30px auto; padding: 0 30px; }
    .code-wrapper { background: var(--bg-code); border-radius: 16px; overflow: hidden; border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); }
    .code-header { background: var(--line-number-bg); padding: 16px 24px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); flex-wrap: wrap; gap: 12px; }
    .code-path { font-family: 'SF Mono', 'Consolas', 'Liberation Mono', Menlo, monospace; font-size: 0.9rem; color: var(--text-secondary); }
    .code-stats { display: flex; gap: 16px; font-size: 0.85rem; }
    .code-stats span { padding: 4px 12px; background: #e5e7eb; border-radius: 4px; color: var(--text-secondary); }
    .code-body { overflow-x: auto; }
    .code-table { width: 100%; border-collapse: collapse; font-family: 'SF Mono', 'Consolas', 'Liberation Mono', Menlo, monospace; font-size: 13px; line-height: 1.6; }
    .code-table tr { transition: background 0.15s; }
    .line-num { width: 60px; padding: 2px 16px; text-align: right; color: #9ca3af; background: var(--line-number-bg); border-right: 1px solid var(--border); user-select: none; vertical-align: top; }
    .hits { width: 60px; padding: 2px 12px; text-align: center; color: #9ca3af; background: var(--line-number-bg); border-right: 1px solid var(--border); font-size: 0.85em; vertical-align: top; }
    .hits-badge { display: inline-block; padding: 2px 8px; border-radius: 10px; font-size: 0.8em; font-weight: 600; position: relative; }
    .hits-badge.has-tooltip { cursor: help; }
    .covered .hits-badge { background: var(--success-bg); color: var(--success); }
    .uncovered .hits-badge { background: var(--danger-bg); color: var(--danger); }
    .hits-tooltip { display: none; position: absolute; left: 100%; top: 50%; transform: translateY(-50%); margin-left: 12px; padding: 10px 14px; background: #1e293b; color: #f1f5f9; border-radius: 8px; font-size: 11px; font-weight: 400; white-space: normal; z-index: 100; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; max-width: 500px; width: max-content; }
    .hits-tooltip::after { content: ''; position: absolute; right: 100%; top: 50%; transform: translateY(-50%); border: 6px solid transparent; border-right-color: #1e293b; }
    .hits-badge:hover .hits-tooltip { display: block; }
    .hits-tooltip-title { font-weight: 600; margin-bottom: 6px; color: #94a3b8; font-size: 10px; text-transform: uppercase; letter-spacing: 0.5px; }
    .hits-tooltip-list { margin: 0; padding: 0; list-style: none; }
    .hits-tooltip-list li { padding: 3px 0; border-bottom: 1px solid #334155; font-family: 'SF Mono', 'Consolas', 'Liberation Mono', Menlo, monospace; }
    .hits-tooltip-list li:last-child { border-bottom: none; }
    .hits-tooltip-file { color: #60a5fa; }
    .hits-tooltip-fn { color: #a5b4fc; }
    .code { padding: 2px 20px; white-space: pre; vertical-align: top; }
    .covered { background: #d1fae5; }
    .covered .line-num, .covered .hits { background: #a7f3d0; border-color: var(--success-border); }
    .covered:hover { background: #ecfdf5; }
    .covered:hover .line-num, .covered:hover .hits { background: #d1fae5; }
    .uncovered { background: #fee2e2; }
    .uncovered .line-num, .uncovered .hits { background: #fecaca; border-color: var(--danger-border); }
    .uncovered:hover { background: #fef2f2; }
    .uncovered:hover .line-num, .uncovered:hover .hits { background: #fee2e2; }
    .function-summary { max-width: 1600px; margin: 30px auto; padding: 0 30px; }
    .function-table { background: var(--bg-card); border-radius: 16px; overflow: hidden; border: 1px solid var(--border); box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); width: 100%; border-collapse: collapse; }
    .function-table th { background: #f1f5f9; padding: 14px 20px; text-align: left; font-weight: 600; color: var(--text-secondary); font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; border-bottom: 2px solid var(--border); }
    .function-table th:first-child { width: 40%; }
    .function-table th:nth-child(2), .function-table th:nth-child(3) { text-align: center; }
    .function-table td { padding: 12px 20px; border-bottom: 1px solid var(--border); vertical-align: middle; }
    .function-table tr:last-child td { border-bottom: none; }
    .function-table tbody tr { transition: background 0.15s; }
    .function-table tbody tr:hover { background: var(--bg-hover); }
    .function-table tbody tr.fn-covered { background: #f0fdf4; }
    .function-table tbody tr.fn-covered:hover { background: #dcfce7; }
    .function-table tbody tr.fn-partial { background: #fffbeb; }
    .function-table tbody tr.fn-partial:hover { background: #fef3c7; }
    .function-table tbody tr.fn-uncovered { background: #fef2f2; }
    .function-table tbody tr.fn-uncovered:hover { background: #fee2e2; }
    .fn-name { font-weight: 600; color: var(--primary); cursor: pointer; text-decoration: none; font-family: 'SF Mono', 'Consolas', 'Liberation Mono', Menlo, monospace; font-size: 0.95rem; }
    .fn-name:hover { color: var(--primary-dark); text-decoration: underline; }
    .fn-lines { text-align: center; color: var(--text-secondary); font-size: 0.9rem; }
    .fn-coverage-cell { text-align: center; }
    .fn-coverage-bar { display: flex; align-items: center; gap: 12px; justify-content: center; }
    .fn-progress { width: 100px; height: 8px; background: #e5e7eb; border-radius: 4px; overflow: hidden; }
    .fn-progress-fill { height: 100%; border-radius: 4px; }
    .fn-progress-fill.high { background: var(--success); }
    .fn-progress-fill.medium { background: var(--warning); }
    .fn-progress-fill.low { background: var(--danger); }
    .fn-pct { font-weight: 600; font-size: 0.9rem; min-width: 50px; text-align: right; }
    .fn-pct.high { color: var(--success); }
    .fn-pct.medium { color: var(--warning); }
    .fn-pct.low { color: var(--danger); }
    .line-anchor { scroll-margin-top: 200px; }
    .line-anchor:target { animation: highlightFade 4s ease-out forwards; }
    .line-anchor:target .line-num, .line-anchor:target .hits { animation: highlightFade 4s ease-out forwards; }
    @keyframes highlightFade {
      0% { background: #93c5fd; }
      70% { background: #dbeafe; }
      100% { background: transparent; }
    }
    .footer { max-width: 1600px; margin: 0 auto; padding: 40px 30px; text-align: center; }
    .footer-text { color: var(--text-muted); font-size: 0.9rem; }
    .footer-link { color: var(--primary-light); text-decoration: none; font-weight: 500; }
    .footer-link:hover { color: var(--primary); }
    @media (max-width: 768px) {
      .header { padding: 15px 20px; } .header-content { gap: 15px; }
      .stats-section { gap: 15px; } .summary-bar { padding: 15px 20px; }
      .summary-content { gap: 20px; } .code-container { padding: 0 15px; margin: 20px auto; }
      .code-header { padding: 12px 16px; } .line-num, .hits { padding: 2px 8px; }
      .code { padding: 2px 12px; }
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <div class="nav-section">
        <a href="../index.html" class="back-btn">← Back to Overview</a>
        <div class="file-title">
          <span class="file-name">beads-uninstaller.sh</span>
        </div>
      </div>
      <div class="stats-section">
        <div class="stat-item">
          <span class="stat-badge coverage medium">55%</span>
          <span class="stat-label">Coverage</span>
        </div>
        <div class="stat-item">
          <span class="stat-badge lines">279/502</span>
          <span class="stat-label">Lines</span>
        </div>
      </div>
    </div>
  </header>
  <div class="summary-bar">
    <div class="summary-content">
      <div class="progress-section">
        <div class="progress-header">
          <span class="progress-label">Line Coverage Progress</span>
          <span class="progress-percent medium">55%</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill medium" style="width: 55%;"></div>
        </div>
      </div>
      <div class="legend">
        <div class="legend-item">
          <span class="legend-color covered"></span>
          <span>279 lines covered</span>
        </div>
        <div class="legend-item">
          <span class="legend-color uncovered"></span>
          <span>223 lines uncovered</span>
        </div>
        <div class="legend-item">
          <span class="legend-color neutral"></span>
          <span>431 non-executable</span>
        </div>
      </div>
    </div>
  </div>
  <div class="function-summary">
    <table class="function-table">
      <thead>
        <tr>
          <th>Function</th>
          <th>Lines</th>
          <th>Coverage</th>
        </tr>
      </thead>
      <tbody>
        <tr class="fn-uncovered">
          <td><a href="#line-41" class="fn-name">usage</a></td>
          <td class="fn-lines">1 / 15</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 6%;"></div></div>
              <span class="fn-pct low">6%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-65" class="fn-name">log</a></td>
          <td class="fn-lines">1 / 1</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-69" class="fn-name">log_section</a></td>
          <td class="fn-lines">1 / 1</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-73" class="fn-name">log_action</a></td>
          <td class="fn-lines">1 / 1</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-77" class="fn-name">log_skip</a></td>
          <td class="fn-lines">1 / 1</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-81" class="fn-name">warn</a></td>
          <td class="fn-lines">1 / 1</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-85" class="fn-name">run</a></td>
          <td class="fn-lines">7 / 8</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 87%;"></div></div>
              <span class="fn-pct high">87%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-100" class="fn-name">run_rm</a></td>
          <td class="fn-lines">9 / 14</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 64%;"></div></div>
              <span class="fn-pct medium">64%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-124" class="fn-name">run_mv</a></td>
          <td class="fn-lines">7 / 7</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-136" class="fn-name">is_beads_hook</a></td>
          <td class="fn-lines">3 / 3</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-142" class="fn-name">restore_hook_backup</a></td>
          <td class="fn-lines">17 / 22</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 77%;"></div></div>
              <span class="fn-pct medium">77%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-187" class="fn-name">cleanup_hooks_dir</a></td>
          <td class="fn-lines">13 / 13</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-210" class="fn-name">cleanup_gitattributes</a></td>
          <td class="fn-lines">10 / 10</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-228" class="fn-name">cleanup_exclude</a></td>
          <td class="fn-lines">10 / 19</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 52%;"></div></div>
              <span class="fn-pct medium">52%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-uncovered">
          <td><a href="#line-259" class="fn-name">cleanup_agents_file</a></td>
          <td class="fn-lines">4 / 30</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 13%;"></div></div>
              <span class="fn-pct low">13%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-uncovered">
          <td><a href="#line-314" class="fn-name">cleanup_settings_json</a></td>
          <td class="fn-lines">5 / 62</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 8%;"></div></div>
              <span class="fn-pct low">8%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-408" class="fn-name">rmdir_if_empty</a></td>
          <td class="fn-lines">4 / 4</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-uncovered">
          <td><a href="#line-416" class="fn-name">stop_daemon_pid_file</a></td>
          <td class="fn-lines">5 / 15</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 33%;"></div></div>
              <span class="fn-pct low">33%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-441" class="fn-name">cleanup_repo</a></td>
          <td class="fn-lines">40 / 47</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 85%;"></div></div>
              <span class="fn-pct high">85%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-527" class="fn-name">cleanup_global_gitignore</a></td>
          <td class="fn-lines">15 / 22</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 68%;"></div></div>
              <span class="fn-pct medium">68%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-566" class="fn-name">cleanup_home</a></td>
          <td class="fn-lines">12 / 12</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-591" class="fn-name">cleanup_binaries</a></td>
          <td class="fn-lines">21 / 32</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 65%;"></div></div>
              <span class="fn-pct medium">65%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-partial">
          <td><a href="#line-654" class="fn-name">ensure_tk_installed</a></td>
          <td class="fn-lines">8 / 14</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill medium" style="width: 57%;"></div></div>
              <span class="fn-pct medium">57%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-677" class="fn-name">migrate_repos_to_tk</a></td>
          <td class="fn-lines">23 / 26</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 88%;"></div></div>
              <span class="fn-pct high">88%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-727" class="fn-name">parse_args</a></td>
          <td class="fn-lines">14 / 14</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-761" class="fn-name">add_repo_root</a></td>
          <td class="fn-lines">12 / 12</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-uncovered">
          <td><a href="#line-786" class="fn-name">scan_roots</a></td>
          <td class="fn-lines">11 / 25</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 44%;"></div></div>
              <span class="fn-pct low">44%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-covered">
          <td><a href="#line-828" class="fn-name">print_summary</a></td>
          <td class="fn-lines">23 / 23</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill high" style="width: 100%;"></div></div>
              <span class="fn-pct high">100%</span>
            </div>
          </td>
        </tr>
        <tr class="fn-uncovered">
          <td><a href="#line-870" class="fn-name">main</a></td>
          <td class="fn-lines">0 / 30</td>
          <td class="fn-coverage-cell">
            <div class="fn-coverage-bar">
              <div class="fn-progress"><div class="fn-progress-fill low" style="width: 0%;"></div></div>
              <span class="fn-pct low">0%</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="code-container">
    <div class="code-wrapper">
      <div class="code-header">
        <span class="code-path">./beads-uninstaller.sh</span>
        <div class="code-stats">
          <span>933 total lines</span>
        </div>
      </div>
      <div class="code-body">
        <table class="code-table">
          <tr id="line-1" class=" line-anchor">
            <td class="line-num">1</td>
            <td class="hits"></td>
            <td class="code">#!/usr/bin/env bash</td>
          </tr>
          <tr id="line-2" class=" line-anchor">
            <td class="line-num">2</td>
            <td class="hits"></td>
            <td class="code">#</td>
          </tr>
          <tr id="line-3" class=" line-anchor">
            <td class="line-num">3</td>
            <td class="hits"></td>
            <td class="code"># Beads (bd) uninstall/cleanup script (macOS/Linux).</td>
          </tr>
          <tr id="line-4" class=" line-anchor">
            <td class="line-num">4</td>
            <td class="hits"></td>
            <td class="code"># Dry-run by default; pass --apply to actually delete/modify files.</td>
          </tr>
          <tr id="line-5" class=" line-anchor">
            <td class="line-num">5</td>
            <td class="hits"></td>
            <td class="code">#</td>
          </tr>
          <tr id="line-6" class=" line-anchor">
            <td class="line-num">6</td>
            <td class="hits"></td>
            <td class="code"># Usage:</td>
          </tr>
          <tr id="line-7" class=" line-anchor">
            <td class="line-num">7</td>
            <td class="hits"></td>
            <td class="code">#   ./uninstall.sh                        # dry-run (scan $HOME)</td>
          </tr>
          <tr id="line-8" class=" line-anchor">
            <td class="line-num">8</td>
            <td class="hits"></td>
            <td class="code">#   ./uninstall.sh --apply                # perform cleanup</td>
          </tr>
          <tr id="line-9" class=" line-anchor">
            <td class="line-num">9</td>
            <td class="hits"></td>
            <td class="code">#   ./uninstall.sh --migrate-tk --apply   # migrate to tk, then cleanup</td>
          </tr>
          <tr id="line-10" class=" line-anchor">
            <td class="line-num">10</td>
            <td class="hits"></td>
            <td class="code">#   ./uninstall.sh --root DIR --apply</td>
          </tr>
          <tr id="line-11" class=" line-anchor">
            <td class="line-num">11</td>
            <td class="hits"></td>
            <td class="code">#   ./uninstall.sh --skip-home --skip-binary</td>
          </tr>
          <tr id="line-12" class=" line-anchor">
            <td class="line-num">12</td>
            <td class="hits"></td>
            <td class="code">#</td>
          </tr>
          <tr id="line-13" class=" line-anchor">
            <td class="line-num">13</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-14" class="uncovered line-anchor">
            <td class="line-num">14</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">set -euo pipefail</td>
          </tr>
          <tr id="line-15" class=" line-anchor">
            <td class="line-num">15</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-16" class=" line-anchor">
            <td class="line-num">16</td>
            <td class="hits"></td>
            <td class="code"># ── Colors ──────────────────────────────────────────────────────────────────</td>
          </tr>
          <tr id="line-17" class="uncovered line-anchor">
            <td class="line-num">17</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if [[ -t 1 ]]; then</td>
          </tr>
          <tr id="line-18" class="uncovered line-anchor">
            <td class="line-num">18</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  RED='\033[0;31m'  GREEN='\033[0;32m'  YELLOW='\033[0;33m'</td>
          </tr>
          <tr id="line-19" class="uncovered line-anchor">
            <td class="line-num">19</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  BLUE='\033[0;34m' CYAN='\033[0;36m'   BOLD='\033[1m'</td>
          </tr>
          <tr id="line-20" class="uncovered line-anchor">
            <td class="line-num">20</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  DIM='\033[2m'     RESET='\033[0m'</td>
          </tr>
          <tr id="line-21" class=" line-anchor">
            <td class="line-num">21</td>
            <td class="hits"></td>
            <td class="code">else</td>
          </tr>
          <tr id="line-22" class="uncovered line-anchor">
            <td class="line-num">22</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  RED='' GREEN='' YELLOW='' BLUE='' CYAN='' BOLD='' DIM='' RESET=''</td>
          </tr>
          <tr id="line-23" class=" line-anchor">
            <td class="line-num">23</td>
            <td class="hits"></td>
            <td class="code">fi</td>
          </tr>
          <tr id="line-24" class=" line-anchor">
            <td class="line-num">24</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-25" class="uncovered line-anchor">
            <td class="line-num">25</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">APPLY=0</td>
          </tr>
          <tr id="line-26" class="uncovered line-anchor">
            <td class="line-num">26</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">SKIP_HOME=0</td>
          </tr>
          <tr id="line-27" class="uncovered line-anchor">
            <td class="line-num">27</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">SKIP_BINARY=0</td>
          </tr>
          <tr id="line-28" class="uncovered line-anchor">
            <td class="line-num">28</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">MIGRATE_TK=0</td>
          </tr>
          <tr id="line-29" class=" line-anchor">
            <td class="line-num">29</td>
            <td class="hits"></td>
            <td class="code">ROOTS=()</td>
          </tr>
          <tr id="line-30" class=" line-anchor">
            <td class="line-num">30</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-31" class=" line-anchor">
            <td class="line-num">31</td>
            <td class="hits"></td>
            <td class="code"># ── Stats ────────────────────────────────────────────────────────────────</td>
          </tr>
          <tr id="line-32" class="uncovered line-anchor">
            <td class="line-num">32</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">STAT_REMOVED=0</td>
          </tr>
          <tr id="line-33" class="uncovered line-anchor">
            <td class="line-num">33</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">STAT_CHANGED=0</td>
          </tr>
          <tr id="line-34" class="uncovered line-anchor">
            <td class="line-num">34</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">STAT_DAEMONS=0</td>
          </tr>
          <tr id="line-35" class="uncovered line-anchor">
            <td class="line-num">35</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">STAT_BINARIES=0</td>
          </tr>
          <tr id="line-36" class="uncovered line-anchor">
            <td class="line-num">36</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">MIGRATE_COUNT=0</td>
          </tr>
          <tr id="line-37" class=" line-anchor">
            <td class="line-num">37</td>
            <td class="hits"></td>
            <td class="code">CLEANED_REPOS=()</td>
          </tr>
          <tr id="line-38" class=" line-anchor">
            <td class="line-num">38</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-39" class="uncovered line-anchor">
            <td class="line-num">39</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">CACHE_FILE="/tmp/beads-uninstall-repos.txt"</td>
          </tr>
          <tr id="line-40" class=" line-anchor">
            <td class="line-num">40</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-41" class=" line-anchor">
            <td class="line-num">41</td>
            <td class="hits"></td>
            <td class="code">usage() {</td>
          </tr>
          <tr id="line-42" class="covered line-anchor">
            <td class="line-num">42</td>
            <td class="hits"><span class="hits-badge has-tooltip">2×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">parse_args_test.sh</span>:<span class="hits-tooltip-fn">test_help_flag_shows_usage</span></li><li><span class="hits-tooltip-file">parse_args_test.sh</span>:<span class="hits-tooltip-fn">test_unknown_flag_exits</span></li></ul></div></span></td>
            <td class="code">  cat &lt;&lt;'EOF'</td>
          </tr>
          <tr id="line-43" class="uncovered line-anchor">
            <td class="line-num">43</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">Beads uninstall/cleanup script</td>
          </tr>
          <tr id="line-44" class=" line-anchor">
            <td class="line-num">44</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-45" class="uncovered line-anchor">
            <td class="line-num">45</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">Defaults:</td>
          </tr>
          <tr id="line-46" class=" line-anchor">
            <td class="line-num">46</td>
            <td class="hits"></td>
            <td class="code">  - dry-run (no changes)</td>
          </tr>
          <tr id="line-47" class="uncovered line-anchor">
            <td class="line-num">47</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  - scan $HOME for .beads and related files</td>
          </tr>
          <tr id="line-48" class=" line-anchor">
            <td class="line-num">48</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-49" class="uncovered line-anchor">
            <td class="line-num">49</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">Options:</td>
          </tr>
          <tr id="line-50" class=" line-anchor">
            <td class="line-num">50</td>
            <td class="hits"></td>
            <td class="code">  --apply         Actually delete/modify files (otherwise dry-run)</td>
          </tr>
          <tr id="line-51" class="uncovered line-anchor">
            <td class="line-num">51</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  --migrate-tk    Migrate beads tickets to tk (ticket) before uninstalling</td>
          </tr>
          <tr id="line-52" class="uncovered line-anchor">
            <td class="line-num">52</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  --root DIR      Add a scan root (repeatable). If none, uses $HOME.</td>
          </tr>
          <tr id="line-53" class=" line-anchor">
            <td class="line-num">53</td>
            <td class="hits"></td>
            <td class="code">  --skip-home     Do not touch home-level files (~/.beads, ~/.config/bd, ~/.claude, ~/.gemini)</td>
          </tr>
          <tr id="line-54" class="uncovered line-anchor">
            <td class="line-num">54</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  --skip-binary   Do not remove the bd binary or package installs</td>
          </tr>
          <tr id="line-55" class="uncovered line-anchor">
            <td class="line-num">55</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  -h, --help      Show this help</td>
          </tr>
          <tr id="line-56" class=" line-anchor">
            <td class="line-num">56</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-57" class="uncovered line-anchor">
            <td class="line-num">57</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">Examples:</td>
          </tr>
          <tr id="line-58" class="uncovered line-anchor">
            <td class="line-num">58</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  ./uninstall.sh</td>
          </tr>
          <tr id="line-59" class="uncovered line-anchor">
            <td class="line-num">59</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  ./uninstall.sh --apply</td>
          </tr>
          <tr id="line-60" class="uncovered line-anchor">
            <td class="line-num">60</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  ./uninstall.sh --migrate-tk --apply</td>
          </tr>
          <tr id="line-61" class="uncovered line-anchor">
            <td class="line-num">61</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  ./uninstall.sh --root ~/src --apply</td>
          </tr>
          <tr id="line-62" class="uncovered line-anchor">
            <td class="line-num">62</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">EOF</td>
          </tr>
          <tr id="line-63" class=" line-anchor">
            <td class="line-num">63</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-64" class=" line-anchor">
            <td class="line-num">64</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-65" class=" line-anchor">
            <td class="line-num">65</td>
            <td class="hits"></td>
            <td class="code">log() {</td>
          </tr>
          <tr id="line-66" class="covered line-anchor">
            <td class="line-num">66</td>
            <td class="hits"><span class="hits-badge has-tooltip">4×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_finds_repos_with_beads_data</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_handles_empty_roots_file</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_handles_no_beads_data</span></li><li><span class="hits-tooltip-file">scan_roots_test.sh</span>:<span class="hits-tooltip-fn">test_scan_roots_creates_output_file</span></li></ul></div></span></td>
            <td class="code">  printf '%b[beads-uninstall]%b %s\n' "$CYAN" "$RESET" "$*"</td>
          </tr>
          <tr id="line-67" class=" line-anchor">
            <td class="line-num">67</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-68" class=" line-anchor">
            <td class="line-num">68</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-69" class=" line-anchor">
            <td class="line-num">69</td>
            <td class="hits"></td>
            <td class="code">log_section() {</td>
          </tr>
          <tr id="line-70" class="covered line-anchor">
            <td class="line-num">70</td>
            <td class="hits"><span class="hits-badge has-tooltip">32×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_handles_no_bd_installed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_keeps_non_beads_bd</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_keeps_beads_planning_without_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_ensure_tk_installed_fails_when_tk_unavailable</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_dry_run_does_not_migrate</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_finds_repos_with_beads_data</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_handles_empty_roots_file</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_handles_no_beads_data</span></li></ul></div></span></td>
            <td class="code">  printf '\n%b══ %s%b\n' "${BOLD}${BLUE}" "$*" "$RESET"</td>
          </tr>
          <tr id="line-71" class=" line-anchor">
            <td class="line-num">71</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-72" class=" line-anchor">
            <td class="line-num">72</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-73" class=" line-anchor">
            <td class="line-num">73</td>
            <td class="hits"></td>
            <td class="code">log_action() {</td>
          </tr>
          <tr id="line-74" class="covered line-anchor">
            <td class="line-num">74</td>
            <td class="hits"><span class="hits-badge has-tooltip">244×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_apply_executes_command</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_finds_repos_with_beads_data</span></li></ul></div></span></td>
            <td class="code">  printf '  %b✓%b %s\n' "$GREEN" "$RESET" "$*"</td>
          </tr>
          <tr id="line-75" class=" line-anchor">
            <td class="line-num">75</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-76" class=" line-anchor">
            <td class="line-num">76</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-77" class=" line-anchor">
            <td class="line-num">77</td>
            <td class="hits"></td>
            <td class="code">log_skip() {</td>
          </tr>
          <tr id="line-78" class="covered line-anchor">
            <td class="line-num">78</td>
            <td class="hits"><span class="hits-badge has-tooltip">22×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_dry_run_does_not_execute</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_does_not_delete</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_git_as_changed_stat</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_kill_as_daemon_stat</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_migrate_repos_to_tk_dry_run_does_not_migrate</span></li></ul></div></span></td>
            <td class="code">  printf '  %b· %s%b\n' "$DIM" "$*" "$RESET"</td>
          </tr>
          <tr id="line-79" class=" line-anchor">
            <td class="line-num">79</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-80" class=" line-anchor">
            <td class="line-num">80</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-81" class=" line-anchor">
            <td class="line-num">81</td>
            <td class="hits"></td>
            <td class="code">warn() {</td>
          </tr>
          <tr id="line-82" class="covered line-anchor">
            <td class="line-num">82</td>
            <td class="hits"><span class="hits-badge has-tooltip">6×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_keeps_non_beads_bd</span></li><li><span class="hits-tooltip-file">migration_test.sh</span>:<span class="hits-tooltip-fn">test_ensure_tk_installed_fails_when_tk_unavailable</span></li><li><span class="hits-tooltip-file">parse_args_test.sh</span>:<span class="hits-tooltip-fn">test_root_without_dir_exits</span></li><li><span class="hits-tooltip-file">parse_args_test.sh</span>:<span class="hits-tooltip-fn">test_unknown_flag_exits</span></li></ul></div></span></td>
            <td class="code">  printf '%b[beads-uninstall] WARN:%b %s\n' "$YELLOW" "$RESET" "$*" &gt;&amp;2</td>
          </tr>
          <tr id="line-83" class=" line-anchor">
            <td class="line-num">83</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-84" class=" line-anchor">
            <td class="line-num">84</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-85" class=" line-anchor">
            <td class="line-num">85</td>
            <td class="hits"></td>
            <td class="code">run() {</td>
          </tr>
          <tr id="line-86" class="covered line-anchor">
            <td class="line-num">86</td>
            <td class="hits"><span class="hits-badge has-tooltip">36×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_apply_executes_command</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_dry_run_does_not_execute</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_git_as_changed_stat</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_kill_as_daemon_stat</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ "$APPLY" -eq 1 ]]; then</td>
          </tr>
          <tr id="line-87" class="covered line-anchor">
            <td class="line-num">87</td>
            <td class="hits"><span class="hits-badge has-tooltip">31×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_apply_executes_command</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    log_action "$*"</td>
          </tr>
          <tr id="line-88" class="covered line-anchor">
            <td class="line-num">88</td>
            <td class="hits"><span class="hits-badge has-tooltip">31×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_apply_executes_command</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    "$@"</td>
          </tr>
          <tr id="line-89" class=" line-anchor">
            <td class="line-num">89</td>
            <td class="hits"></td>
            <td class="code">  else</td>
          </tr>
          <tr id="line-90" class="covered line-anchor">
            <td class="line-num">90</td>
            <td class="hits"><span class="hits-badge has-tooltip">5×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_dry_run_does_not_execute</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_git_as_changed_stat</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_kill_as_daemon_stat</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li></ul></div></span></td>
            <td class="code">    log_skip "[dry-run] $*"</td>
          </tr>
          <tr id="line-91" class=" line-anchor">
            <td class="line-num">91</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-92" class=" line-anchor">
            <td class="line-num">92</td>
            <td class="hits"></td>
            <td class="code">  # Track stats based on command type</td>
          </tr>
          <tr id="line-93" class="covered line-anchor">
            <td class="line-num">93</td>
            <td class="hits"><span class="hits-badge has-tooltip">36×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_apply_executes_command</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_dry_run_does_not_execute</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_git_as_changed_stat</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_kill_as_daemon_stat</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  case "$1" in</td>
          </tr>
          <tr id="line-94" class="covered line-anchor">
            <td class="line-num">94</td>
            <td class="hits"><span class="hits-badge has-tooltip">2×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_kill_as_daemon_stat</span></li></ul></div></span></td>
            <td class="code">    kill)      (( STAT_DAEMONS++ )) || true ;;</td>
          </tr>
          <tr id="line-95" class="covered line-anchor">
            <td class="line-num">95</td>
            <td class="hits"><span class="hits-badge has-tooltip">50×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_tracks_git_as_changed_stat</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    git)       (( STAT_CHANGED++ )) || true ;;</td>
          </tr>
          <tr id="line-96" class="uncovered line-anchor">
            <td class="line-num">96</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    brew|npm)  (( STAT_BINARIES++ )) || true ;;</td>
          </tr>
          <tr id="line-97" class=" line-anchor">
            <td class="line-num">97</td>
            <td class="hits"></td>
            <td class="code">  esac</td>
          </tr>
          <tr id="line-98" class=" line-anchor">
            <td class="line-num">98</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-99" class=" line-anchor">
            <td class="line-num">99</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-100" class=" line-anchor">
            <td class="line-num">100</td>
            <td class="hits"></td>
            <td class="code">run_rm() {</td>
          </tr>
          <tr id="line-101" class="covered line-anchor">
            <td class="line-num">101</td>
            <td class="hits"><span class="hits-badge has-tooltip">201×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_does_not_delete</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_nonexistent_does_nothing</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">  local path="$1"</td>
          </tr>
          <tr id="line-102" class="covered line-anchor">
            <td class="line-num">102</td>
            <td class="hits"><span class="hits-badge has-tooltip">201×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_does_not_delete</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_nonexistent_does_nothing</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">  if [[ "$APPLY" -eq 1 ]]; then</td>
          </tr>
          <tr id="line-103" class="covered line-anchor">
            <td class="line-num">103</td>
            <td class="hits"><span class="hits-badge has-tooltip">188×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_nonexistent_does_nothing</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    if [[ -e "$path" ]]; then</td>
          </tr>
          <tr id="line-104" class="covered line-anchor">
            <td class="line-num">104</td>
            <td class="hits"><span class="hits-badge has-tooltip">374×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">      if [[ -w "$(dirname "$path")" ]]; then</td>
          </tr>
          <tr id="line-105" class="covered line-anchor">
            <td class="line-num">105</td>
            <td class="hits"><span class="hits-badge has-tooltip">187×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">        log_action "rm -rf $path"</td>
          </tr>
          <tr id="line-106" class="covered line-anchor">
            <td class="line-num">106</td>
            <td class="hits"><span class="hits-badge has-tooltip">187×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">        rm -rf "$path"</td>
          </tr>
          <tr id="line-107" class=" line-anchor">
            <td class="line-num">107</td>
            <td class="hits"></td>
            <td class="code">      else</td>
          </tr>
          <tr id="line-108" class="uncovered line-anchor">
            <td class="line-num">108</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if command -v sudo &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-109" class="uncovered line-anchor">
            <td class="line-num">109</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          log_action "sudo rm -rf $path"</td>
          </tr>
          <tr id="line-110" class="uncovered line-anchor">
            <td class="line-num">110</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          sudo rm -rf "$path"</td>
          </tr>
          <tr id="line-111" class=" line-anchor">
            <td class="line-num">111</td>
            <td class="hits"></td>
            <td class="code">        else</td>
          </tr>
          <tr id="line-112" class="uncovered line-anchor">
            <td class="line-num">112</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          warn "Need permissions to remove $path (run with sudo)"</td>
          </tr>
          <tr id="line-113" class="uncovered line-anchor">
            <td class="line-num">113</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          return 0</td>
          </tr>
          <tr id="line-114" class=" line-anchor">
            <td class="line-num">114</td>
            <td class="hits"></td>
            <td class="code">        fi</td>
          </tr>
          <tr id="line-115" class=" line-anchor">
            <td class="line-num">115</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-116" class="covered line-anchor">
            <td class="line-num">116</td>
            <td class="hits"><span class="hits-badge has-tooltip">218×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_directory</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_deletes_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_apply_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_removes_fake_bd_binary</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">      (( STAT_REMOVED++ )) || true</td>
          </tr>
          <tr id="line-117" class=" line-anchor">
            <td class="line-num">117</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-118" class=" line-anchor">
            <td class="line-num">118</td>
            <td class="hits"></td>
            <td class="code">  else</td>
          </tr>
          <tr id="line-119" class="covered line-anchor">
            <td class="line-num">119</td>
            <td class="hits"><span class="hits-badge has-tooltip">13×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_does_not_delete</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li></ul></div></span></td>
            <td class="code">    log_skip "[dry-run] rm -rf $path"</td>
          </tr>
          <tr id="line-120" class="covered line-anchor">
            <td class="line-num">120</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_does_not_delete</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_rm_dry_run_increments_stat_removed</span></li><li><span class="hits-tooltip-file">cleanup_binaries_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_binaries_dry_run_preserves_binary</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li></ul></div></span></td>
            <td class="code">    (( STAT_REMOVED++ )) || true</td>
          </tr>
          <tr id="line-121" class=" line-anchor">
            <td class="line-num">121</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-122" class=" line-anchor">
            <td class="line-num">122</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-123" class=" line-anchor">
            <td class="line-num">123</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-124" class=" line-anchor">
            <td class="line-num">124</td>
            <td class="hits"></td>
            <td class="code">run_mv() {</td>
          </tr>
          <tr id="line-125" class="covered line-anchor">
            <td class="line-num">125</td>
            <td class="hits"><span class="hits-badge has-tooltip">28×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  local src="$1"</td>
          </tr>
          <tr id="line-126" class="covered line-anchor">
            <td class="line-num">126</td>
            <td class="hits"><span class="hits-badge has-tooltip">28×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  local dst="$2"</td>
          </tr>
          <tr id="line-127" class="covered line-anchor">
            <td class="line-num">127</td>
            <td class="hits"><span class="hits-badge has-tooltip">28×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  if [[ "$APPLY" -eq 1 ]]; then</td>
          </tr>
          <tr id="line-128" class="covered line-anchor">
            <td class="line-num">128</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">    log_action "mv $src $dst"</td>
          </tr>
          <tr id="line-129" class="covered line-anchor">
            <td class="line-num">129</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">    mv "$src" "$dst"</td>
          </tr>
          <tr id="line-130" class=" line-anchor">
            <td class="line-num">130</td>
            <td class="hits"></td>
            <td class="code">  else</td>
          </tr>
          <tr id="line-131" class="covered line-anchor">
            <td class="line-num">131</td>
            <td class="hits"><span class="hits-badge has-tooltip">3×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li></ul></div></span></td>
            <td class="code">    log_skip "[dry-run] mv $src $dst"</td>
          </tr>
          <tr id="line-132" class=" line-anchor">
            <td class="line-num">132</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-133" class="covered line-anchor">
            <td class="line-num">133</td>
            <td class="hits"><span class="hits-badge has-tooltip">40×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_increments_stat_changed</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_apply_moves_file</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_does_not_move</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_run_mv_dry_run_increments_stat_changed</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_strips_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_global_gitignore_uses_git_config_excludesfile</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  (( STAT_CHANGED++ )) || true</td>
          </tr>
          <tr id="line-134" class=" line-anchor">
            <td class="line-num">134</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-135" class=" line-anchor">
            <td class="line-num">135</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-136" class=" line-anchor">
            <td class="line-num">136</td>
            <td class="hits"></td>
            <td class="code">is_beads_hook() {</td>
          </tr>
          <tr id="line-137" class="covered line-anchor">
            <td class="line-num">137</td>
            <td class="hits"><span class="hits-badge has-tooltip">39×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_run</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_version</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_shim</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_rejects_nonexistent_file</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_rejects_normal_hook</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  local file="$1"</td>
          </tr>
          <tr id="line-138" class="covered line-anchor">
            <td class="line-num">138</td>
            <td class="hits"><span class="hits-badge has-tooltip">40×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_run</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_version</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_shim</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_rejects_nonexistent_file</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_rejects_normal_hook</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$file" ]] || return 1</td>
          </tr>
          <tr id="line-139" class="covered line-anchor">
            <td class="line-num">139</td>
            <td class="hits"><span class="hits-badge has-tooltip">38×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_run</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_hooks_version</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_detects_bd_shim</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_is_beads_hook_rejects_normal_hook</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  grep -Eq 'bd-hooks-version:|bd-shim|bd \(beads\)|bd hooks run' "$file"</td>
          </tr>
          <tr id="line-140" class=" line-anchor">
            <td class="line-num">140</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-141" class=" line-anchor">
            <td class="line-num">141</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-142" class=" line-anchor">
            <td class="line-num">142</td>
            <td class="hits"></td>
            <td class="code">restore_hook_backup() {</td>
          </tr>
          <tr id="line-143" class="covered line-anchor">
            <td class="line-num">143</td>
            <td class="hits"><span class="hits-badge has-tooltip">29×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  local hook="$1"</td>
          </tr>
          <tr id="line-144" class="covered line-anchor">
            <td class="line-num">144</td>
            <td class="hits"><span class="hits-badge has-tooltip">29×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  local restored=0</td>
          </tr>
          <tr id="line-145" class=" line-anchor">
            <td class="line-num">145</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-146" class="covered line-anchor">
            <td class="line-num">146</td>
            <td class="hits"><span class="hits-badge has-tooltip">29×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  if [[ -f "${hook}.old" ]]; then</td>
          </tr>
          <tr id="line-147" class="covered line-anchor">
            <td class="line-num">147</td>
            <td class="hits"><span class="hits-badge has-tooltip">4×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">    if is_beads_hook "${hook}.old"; then</td>
          </tr>
          <tr id="line-148" class="covered line-anchor">
            <td class="line-num">148</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">      run_rm "${hook}.old"</td>
          </tr>
          <tr id="line-149" class=" line-anchor">
            <td class="line-num">149</td>
            <td class="hits"></td>
            <td class="code">    else</td>
          </tr>
          <tr id="line-150" class="covered line-anchor">
            <td class="line-num">150</td>
            <td class="hits"><span class="hits-badge has-tooltip">3×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">      run_mv "${hook}.old" "$hook"</td>
          </tr>
          <tr id="line-151" class="covered line-anchor">
            <td class="line-num">151</td>
            <td class="hits"><span class="hits-badge has-tooltip">3×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">      restored=1</td>
          </tr>
          <tr id="line-152" class=" line-anchor">
            <td class="line-num">152</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-153" class=" line-anchor">
            <td class="line-num">153</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-154" class=" line-anchor">
            <td class="line-num">154</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-155" class="covered line-anchor">
            <td class="line-num">155</td>
            <td class="hits"><span class="hits-badge has-tooltip">29×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  if [[ "$restored" -eq 0 &amp;&amp; -f "${hook}.backup" ]]; then</td>
          </tr>
          <tr id="line-156" class="covered line-anchor">
            <td class="line-num">156</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li></ul></div></span></td>
            <td class="code">    if is_beads_hook "${hook}.backup"; then</td>
          </tr>
          <tr id="line-157" class="uncovered line-anchor">
            <td class="line-num">157</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      run_rm "${hook}.backup"</td>
          </tr>
          <tr id="line-158" class=" line-anchor">
            <td class="line-num">158</td>
            <td class="hits"></td>
            <td class="code">    else</td>
          </tr>
          <tr id="line-159" class="covered line-anchor">
            <td class="line-num">159</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li></ul></div></span></td>
            <td class="code">      run_mv "${hook}.backup" "$hook"</td>
          </tr>
          <tr id="line-160" class="covered line-anchor">
            <td class="line-num">160</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li></ul></div></span></td>
            <td class="code">      restored=1</td>
          </tr>
          <tr id="line-161" class=" line-anchor">
            <td class="line-num">161</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-162" class=" line-anchor">
            <td class="line-num">162</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-163" class=" line-anchor">
            <td class="line-num">163</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-164" class="covered line-anchor">
            <td class="line-num">164</td>
            <td class="hits"><span class="hits-badge has-tooltip">29×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_prefers_dot_old_over_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_backup</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_restores_dot_old</span></li></ul></div></span></td>
            <td class="code">  if [[ "$restored" -eq 0 ]]; then</td>
          </tr>
          <tr id="line-165" class="covered line-anchor">
            <td class="line-num">165</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    local latest=""</td>
          </tr>
          <tr id="line-166" class=" line-anchor">
            <td class="line-num">166</td>
            <td class="hits"></td>
            <td class="code">    local backups=()</td>
          </tr>
          <tr id="line-167" class="covered line-anchor">
            <td class="line-num">167</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    shopt -s nullglob</td>
          </tr>
          <tr id="line-168" class=" line-anchor">
            <td class="line-num">168</td>
            <td class="hits"></td>
            <td class="code">    backups=("${hook}".backup-*)</td>
          </tr>
          <tr id="line-169" class="covered line-anchor">
            <td class="line-num">169</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    shopt -u nullglob</td>
          </tr>
          <tr id="line-170" class="covered line-anchor">
            <td class="line-num">170</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    if [[ "${#backups[@]}" -gt 0 ]]; then</td>
          </tr>
          <tr id="line-171" class=" line-anchor">
            <td class="line-num">171</td>
            <td class="hits"></td>
            <td class="code">      latest=$(find "${backups[@]}" -maxdepth 0 -printf '%T@ %p\n' 2&gt;/dev/null | sort -rn | head -n1 | cut -d' ' -f2-)</td>
          </tr>
          <tr id="line-172" class=" line-anchor">
            <td class="line-num">172</td>
            <td class="hits"></td>
            <td class="code">      # macOS fallback: find -printf is GNU-only</td>
          </tr>
          <tr id="line-173" class="uncovered line-anchor">
            <td class="line-num">173</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if [[ -z "$latest" ]]; then</td>
          </tr>
          <tr id="line-174" class=" line-anchor">
            <td class="line-num">174</td>
            <td class="hits"></td>
            <td class="code">        latest=$(stat -f '%m %N' "${backups[@]}" 2&gt;/dev/null | sort -rn | head -n1 | cut -d' ' -f2-)</td>
          </tr>
          <tr id="line-175" class=" line-anchor">
            <td class="line-num">175</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-176" class=" line-anchor">
            <td class="line-num">176</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-177" class="covered line-anchor">
            <td class="line-num">177</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_restore_hook_backup_removes_beads_dot_old</span></li></ul></div></span></td>
            <td class="code">    if [[ -n "$latest" ]]; then</td>
          </tr>
          <tr id="line-178" class="uncovered line-anchor">
            <td class="line-num">178</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if is_beads_hook "$latest"; then</td>
          </tr>
          <tr id="line-179" class="uncovered line-anchor">
            <td class="line-num">179</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        run_rm "$latest"</td>
          </tr>
          <tr id="line-180" class=" line-anchor">
            <td class="line-num">180</td>
            <td class="hits"></td>
            <td class="code">      else</td>
          </tr>
          <tr id="line-181" class="uncovered line-anchor">
            <td class="line-num">181</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        run_mv "$latest" "$hook"</td>
          </tr>
          <tr id="line-182" class=" line-anchor">
            <td class="line-num">182</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-183" class=" line-anchor">
            <td class="line-num">183</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-184" class=" line-anchor">
            <td class="line-num">184</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-185" class=" line-anchor">
            <td class="line-num">185</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-186" class=" line-anchor">
            <td class="line-num">186</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-187" class=" line-anchor">
            <td class="line-num">187</td>
            <td class="hits"></td>
            <td class="code">cleanup_hooks_dir() {</td>
          </tr>
          <tr id="line-188" class="covered line-anchor">
            <td class="line-num">188</td>
            <td class="hits"><span class="hits-badge has-tooltip">22×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_noop_for_nonexistent_dir</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">  local hooks_dir="$1"</td>
          </tr>
          <tr id="line-189" class="covered line-anchor">
            <td class="line-num">189</td>
            <td class="hits"><span class="hits-badge has-tooltip">23×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_noop_for_nonexistent_dir</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">  [[ -d "$hooks_dir" ]] || return 0</td>
          </tr>
          <tr id="line-190" class=" line-anchor">
            <td class="line-num">190</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-191" class="covered line-anchor">
            <td class="line-num">191</td>
            <td class="hits"><span class="hits-badge has-tooltip">21×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">  local hook</td>
          </tr>
          <tr id="line-192" class="covered line-anchor">
            <td class="line-num">192</td>
            <td class="hits"><span class="hits-badge has-tooltip">126×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">  for hook in pre-commit post-merge pre-push post-checkout prepare-commit-msg post-commit; do</td>
          </tr>
          <tr id="line-193" class="covered line-anchor">
            <td class="line-num">193</td>
            <td class="hits"><span class="hits-badge has-tooltip">126×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">    local path="$hooks_dir/$hook"</td>
          </tr>
          <tr id="line-194" class="covered line-anchor">
            <td class="line-num">194</td>
            <td class="hits"><span class="hits-badge has-tooltip">126×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">    if [[ -f "$path" ]]; then</td>
          </tr>
          <tr id="line-195" class="covered line-anchor">
            <td class="line-num">195</td>
            <td class="hits"><span class="hits-badge has-tooltip">26×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">      if is_beads_hook "$path"; then</td>
          </tr>
          <tr id="line-196" class="covered line-anchor">
            <td class="line-num">196</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">        run_rm "$path"</td>
          </tr>
          <tr id="line-197" class="covered line-anchor">
            <td class="line-num">197</td>
            <td class="hits"><span class="hits-badge has-tooltip">25×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">        restore_hook_backup "$path"</td>
          </tr>
          <tr id="line-198" class=" line-anchor">
            <td class="line-num">198</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-199" class=" line-anchor">
            <td class="line-num">199</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-200" class=" line-anchor">
            <td class="line-num">200</td>
            <td class="hits"></td>
            <td class="code">    # Also clean any leftover beads backups even if the main hook is gone</td>
          </tr>
          <tr id="line-201" class="covered line-anchor">
            <td class="line-num">201</td>
            <td class="hits"><span class="hits-badge has-tooltip">126×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">    local bak</td>
          </tr>
          <tr id="line-202" class="covered line-anchor">
            <td class="line-num">202</td>
            <td class="hits"><span class="hits-badge has-tooltip">378×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">    for bak in "${path}.old" "${path}.backup" "${path}".backup-*; do</td>
          </tr>
          <tr id="line-203" class="covered line-anchor">
            <td class="line-num">203</td>
            <td class="hits"><span class="hits-badge has-tooltip">380×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_handles_all_hook_types</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_keeps_normal_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_restores_backup_after_removing_beads</span></li></ul></div></span></td>
            <td class="code">      if [[ -f "$bak" ]] &amp;&amp; is_beads_hook "$bak"; then</td>
          </tr>
          <tr id="line-204" class="covered line-anchor">
            <td class="line-num">204</td>
            <td class="hits"><span class="hits-badge has-tooltip">2×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">hook_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_hooks_dir_removes_beads_backup_files</span></li></ul></div></span></td>
            <td class="code">        run_rm "$bak"</td>
          </tr>
          <tr id="line-205" class=" line-anchor">
            <td class="line-num">205</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-206" class=" line-anchor">
            <td class="line-num">206</td>
            <td class="hits"></td>
            <td class="code">    done</td>
          </tr>
          <tr id="line-207" class=" line-anchor">
            <td class="line-num">207</td>
            <td class="hits"></td>
            <td class="code">  done</td>
          </tr>
          <tr id="line-208" class=" line-anchor">
            <td class="line-num">208</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-209" class=" line-anchor">
            <td class="line-num">209</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-210" class=" line-anchor">
            <td class="line-num">210</td>
            <td class="hits"></td>
            <td class="code">cleanup_gitattributes() {</td>
          </tr>
          <tr id="line-211" class="covered line-anchor">
            <td class="line-num">211</td>
            <td class="hits"><span class="hits-badge has-tooltip">20×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local repo="$1"</td>
          </tr>
          <tr id="line-212" class="covered line-anchor">
            <td class="line-num">212</td>
            <td class="hits"><span class="hits-badge has-tooltip">20×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local file="$repo/.gitattributes"</td>
          </tr>
          <tr id="line-213" class="covered line-anchor">
            <td class="line-num">213</td>
            <td class="hits"><span class="hits-badge has-tooltip">21×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$file" ]] || return 0</td>
          </tr>
          <tr id="line-214" class=" line-anchor">
            <td class="line-num">214</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-215" class="covered line-anchor">
            <td class="line-num">215</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local tmp</td>
          </tr>
          <tr id="line-216" class=" line-anchor">
            <td class="line-num">216</td>
            <td class="hits"></td>
            <td class="code">  tmp=$(mktemp)</td>
          </tr>
          <tr id="line-217" class="covered line-anchor">
            <td class="line-num">217</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  awk '!/merge=beads/' "$file" &gt; "$tmp"</td>
          </tr>
          <tr id="line-218" class="covered line-anchor">
            <td class="line-num">218</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if ! cmp -s "$file" "$tmp"; then</td>
          </tr>
          <tr id="line-219" class="covered line-anchor">
            <td class="line-num">219</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if [[ -s "$tmp" ]]; then</td>
          </tr>
          <tr id="line-220" class="covered line-anchor">
            <td class="line-num">220</td>
            <td class="hits"><span class="hits-badge has-tooltip">17×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      run_mv "$tmp" "$file"</td>
          </tr>
          <tr id="line-221" class=" line-anchor">
            <td class="line-num">221</td>
            <td class="hits"></td>
            <td class="code">    else</td>
          </tr>
          <tr id="line-222" class="covered line-anchor">
            <td class="line-num">222</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li></ul></div></span></td>
            <td class="code">      run_rm "$file"</td>
          </tr>
          <tr id="line-223" class=" line-anchor">
            <td class="line-num">223</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-224" class=" line-anchor">
            <td class="line-num">224</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-225" class="covered line-anchor">
            <td class="line-num">225</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_gitattributes_removes_merge_beads_lines</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  rm -f "$tmp"</td>
          </tr>
          <tr id="line-226" class=" line-anchor">
            <td class="line-num">226</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-227" class=" line-anchor">
            <td class="line-num">227</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-228" class=" line-anchor">
            <td class="line-num">228</td>
            <td class="hits"></td>
            <td class="code">cleanup_exclude() {</td>
          </tr>
          <tr id="line-229" class="covered line-anchor">
            <td class="line-num">229</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local git_dir="$1"</td>
          </tr>
          <tr id="line-230" class="covered line-anchor">
            <td class="line-num">230</td>
            <td class="hits"><span class="hits-badge has-tooltip">19×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local file="$git_dir/info/exclude"</td>
          </tr>
          <tr id="line-231" class="covered line-anchor">
            <td class="line-num">231</td>
            <td class="hits"><span class="hits-badge has-tooltip">20×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$file" ]] || return 0</td>
          </tr>
          <tr id="line-232" class=" line-anchor">
            <td class="line-num">232</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-233" class="covered line-anchor">
            <td class="line-num">233</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local tmp</td>
          </tr>
          <tr id="line-234" class=" line-anchor">
            <td class="line-num">234</td>
            <td class="hits"></td>
            <td class="code">  tmp=$(mktemp)</td>
          </tr>
          <tr id="line-235" class="covered line-anchor">
            <td class="line-num">235</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  awk '</td>
          </tr>
          <tr id="line-236" class="uncovered line-anchor">
            <td class="line-num">236</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    function trim(s){sub(/^[ \t\r\n]+/, "", s); sub(/[ \t\r\n]+$/, "", s); return s}</td>
          </tr>
          <tr id="line-237" class=" line-anchor">
            <td class="line-num">237</td>
            <td class="hits"></td>
            <td class="code">    {</td>
          </tr>
          <tr id="line-238" class=" line-anchor">
            <td class="line-num">238</td>
            <td class="hits"></td>
            <td class="code">      t = trim($0)</td>
          </tr>
          <tr id="line-239" class="uncovered line-anchor">
            <td class="line-num">239</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t ~ /^#.*[Bb]eads/) next</td>
          </tr>
          <tr id="line-240" class="uncovered line-anchor">
            <td class="line-num">240</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t == ".beads/") next</td>
          </tr>
          <tr id="line-241" class="uncovered line-anchor">
            <td class="line-num">241</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t == ".beads/issues.jsonl") next</td>
          </tr>
          <tr id="line-242" class="uncovered line-anchor">
            <td class="line-num">242</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t == ".claude/settings.local.json") next</td>
          </tr>
          <tr id="line-243" class="uncovered line-anchor">
            <td class="line-num">243</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t == "**/RECOVERY*.md") next</td>
          </tr>
          <tr id="line-244" class="uncovered line-anchor">
            <td class="line-num">244</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if (t == "**/SESSION*.md") next</td>
          </tr>
          <tr id="line-245" class="uncovered line-anchor">
            <td class="line-num">245</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      print</td>
          </tr>
          <tr id="line-246" class=" line-anchor">
            <td class="line-num">246</td>
            <td class="hits"></td>
            <td class="code">    }</td>
          </tr>
          <tr id="line-247" class="uncovered line-anchor">
            <td class="line-num">247</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  ' "$file" &gt; "$tmp"</td>
          </tr>
          <tr id="line-248" class=" line-anchor">
            <td class="line-num">248</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-249" class="covered line-anchor">
            <td class="line-num">249</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if ! cmp -s "$file" "$tmp"; then</td>
          </tr>
          <tr id="line-250" class="covered line-anchor">
            <td class="line-num">250</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if [[ -s "$tmp" ]]; then</td>
          </tr>
          <tr id="line-251" class="covered line-anchor">
            <td class="line-num">251</td>
            <td class="hits"><span class="hits-badge has-tooltip">1×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li></ul></div></span></td>
            <td class="code">      run_mv "$tmp" "$file"</td>
          </tr>
          <tr id="line-252" class=" line-anchor">
            <td class="line-num">252</td>
            <td class="hits"></td>
            <td class="code">    else</td>
          </tr>
          <tr id="line-253" class="covered line-anchor">
            <td class="line-num">253</td>
            <td class="hits"><span class="hits-badge has-tooltip">17×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      run_rm "$file"</td>
          </tr>
          <tr id="line-254" class=" line-anchor">
            <td class="line-num">254</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-255" class=" line-anchor">
            <td class="line-num">255</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-256" class="covered line-anchor">
            <td class="line-num">256</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_beads_entries</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_exclude_removes_file_if_only_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  rm -f "$tmp"</td>
          </tr>
          <tr id="line-257" class=" line-anchor">
            <td class="line-num">257</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-258" class=" line-anchor">
            <td class="line-num">258</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-259" class=" line-anchor">
            <td class="line-num">259</td>
            <td class="hits"></td>
            <td class="code">cleanup_agents_file() {</td>
          </tr>
          <tr id="line-260" class="covered line-anchor">
            <td class="line-num">260</td>
            <td class="hits"><span class="hits-badge has-tooltip">22×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_removes_empty_result</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_beads_integration_block</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_landing_the_plane_section</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local file="$1"</td>
          </tr>
          <tr id="line-261" class="covered line-anchor">
            <td class="line-num">261</td>
            <td class="hits"><span class="hits-badge has-tooltip">23×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_removes_empty_result</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_beads_integration_block</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_landing_the_plane_section</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$file" ]] || return 0</td>
          </tr>
          <tr id="line-262" class=" line-anchor">
            <td class="line-num">262</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-263" class="covered line-anchor">
            <td class="line-num">263</td>
            <td class="hits"><span class="hits-badge has-tooltip">21×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_removes_empty_result</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_beads_integration_block</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_landing_the_plane_section</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if ! command -v python3 &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-264" class="uncovered line-anchor">
            <td class="line-num">264</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    warn "python3 not found; skipping AGENTS.md cleanup for $file"</td>
          </tr>
          <tr id="line-265" class="uncovered line-anchor">
            <td class="line-num">265</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    return 0</td>
          </tr>
          <tr id="line-266" class=" line-anchor">
            <td class="line-num">266</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-267" class=" line-anchor">
            <td class="line-num">267</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-268" class="covered line-anchor">
            <td class="line-num">268</td>
            <td class="hits"><span class="hits-badge has-tooltip">21×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_noop_if_no_beads</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_removes_empty_result</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_beads_integration_block</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_agents_file_strips_landing_the_plane_section</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  APPLY="$APPLY" python3 - "$file" &lt;&lt;'PY'</td>
          </tr>
          <tr id="line-269" class="uncovered line-anchor">
            <td class="line-num">269</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">import os, re, sys</td>
          </tr>
          <tr id="line-270" class="uncovered line-anchor">
            <td class="line-num">270</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">path = sys.argv[1]</td>
          </tr>
          <tr id="line-271" class="uncovered line-anchor">
            <td class="line-num">271</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">apply = os.environ.get("APPLY") == "1"</td>
          </tr>
          <tr id="line-272" class=" line-anchor">
            <td class="line-num">272</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-273" class="uncovered line-anchor">
            <td class="line-num">273</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">with open(path, "r", encoding="utf-8") as f:</td>
          </tr>
          <tr id="line-274" class=" line-anchor">
            <td class="line-num">274</td>
            <td class="hits"></td>
            <td class="code">    content = f.read()</td>
          </tr>
          <tr id="line-275" class=" line-anchor">
            <td class="line-num">275</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-276" class="uncovered line-anchor">
            <td class="line-num">276</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">orig = content</td>
          </tr>
          <tr id="line-277" class=" line-anchor">
            <td class="line-num">277</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-278" class="uncovered line-anchor">
            <td class="line-num">278</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">begin = "&lt;!-- BEGIN BEADS INTEGRATION --&gt;"</td>
          </tr>
          <tr id="line-279" class="uncovered line-anchor">
            <td class="line-num">279</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">end = "&lt;!-- END BEADS INTEGRATION --&gt;"</td>
          </tr>
          <tr id="line-280" class="uncovered line-anchor">
            <td class="line-num">280</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if begin in content and end in content:</td>
          </tr>
          <tr id="line-281" class=" line-anchor">
            <td class="line-num">281</td>
            <td class="hits"></td>
            <td class="code">    pattern = re.compile(r"\n?\s*&lt;!-- BEGIN BEADS INTEGRATION --&gt;.*?&lt;!-- END BEADS INTEGRATION --&gt;\s*\n?", re.S)</td>
          </tr>
          <tr id="line-282" class=" line-anchor">
            <td class="line-num">282</td>
            <td class="hits"></td>
            <td class="code">    content = re.sub(pattern, "\n", content)</td>
          </tr>
          <tr id="line-283" class=" line-anchor">
            <td class="line-num">283</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-284" class="uncovered line-anchor">
            <td class="line-num">284</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">heading = "## Landing the Plane (Session Completion)"</td>
          </tr>
          <tr id="line-285" class="uncovered line-anchor">
            <td class="line-num">285</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if heading in content:</td>
          </tr>
          <tr id="line-286" class="uncovered line-anchor">
            <td class="line-num">286</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    pattern = re.compile(r"\n?## Landing the Plane \(Session Completion\)[\s\S]*?(?=\n## |\Z)")</td>
          </tr>
          <tr id="line-287" class=" line-anchor">
            <td class="line-num">287</td>
            <td class="hits"></td>
            <td class="code">    m = pattern.search(content)</td>
          </tr>
          <tr id="line-288" class="uncovered line-anchor">
            <td class="line-num">288</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    if m:</td>
          </tr>
          <tr id="line-289" class=" line-anchor">
            <td class="line-num">289</td>
            <td class="hits"></td>
            <td class="code">        block = m.group(0)</td>
          </tr>
          <tr id="line-290" class="uncovered line-anchor">
            <td class="line-num">290</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if "bd sync" in block or "git pull --rebase" in block:</td>
          </tr>
          <tr id="line-291" class="uncovered line-anchor">
            <td class="line-num">291</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            content = content[:m.start()] + "\n" + content[m.end():]</td>
          </tr>
          <tr id="line-292" class=" line-anchor">
            <td class="line-num">292</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-293" class=" line-anchor">
            <td class="line-num">293</td>
            <td class="hits"></td>
            <td class="code">content = re.sub(r"\n{3,}", "\n\n", content)</td>
          </tr>
          <tr id="line-294" class="uncovered line-anchor">
            <td class="line-num">294</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">changed = content != orig</td>
          </tr>
          <tr id="line-295" class=" line-anchor">
            <td class="line-num">295</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-296" class="uncovered line-anchor">
            <td class="line-num">296</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if not changed:</td>
          </tr>
          <tr id="line-297" class=" line-anchor">
            <td class="line-num">297</td>
            <td class="hits"></td>
            <td class="code">    sys.exit(0)</td>
          </tr>
          <tr id="line-298" class=" line-anchor">
            <td class="line-num">298</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-299" class="uncovered line-anchor">
            <td class="line-num">299</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if apply:</td>
          </tr>
          <tr id="line-300" class="uncovered line-anchor">
            <td class="line-num">300</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    if content.strip() == "":</td>
          </tr>
          <tr id="line-301" class=" line-anchor">
            <td class="line-num">301</td>
            <td class="hits"></td>
            <td class="code">        os.remove(path)</td>
          </tr>
          <tr id="line-302" class=" line-anchor">
            <td class="line-num">302</td>
            <td class="hits"></td>
            <td class="code">        print(f"Removed empty AGENTS.md: {path}")</td>
          </tr>
          <tr id="line-303" class="uncovered line-anchor">
            <td class="line-num">303</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    else:</td>
          </tr>
          <tr id="line-304" class="uncovered line-anchor">
            <td class="line-num">304</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        mode = os.stat(path).st_mode</td>
          </tr>
          <tr id="line-305" class="uncovered line-anchor">
            <td class="line-num">305</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        with open(path, "w", encoding="utf-8") as f:</td>
          </tr>
          <tr id="line-306" class="uncovered line-anchor">
            <td class="line-num">306</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            f.write(content.rstrip() + "\n")</td>
          </tr>
          <tr id="line-307" class=" line-anchor">
            <td class="line-num">307</td>
            <td class="hits"></td>
            <td class="code">        os.chmod(path, mode)</td>
          </tr>
          <tr id="line-308" class=" line-anchor">
            <td class="line-num">308</td>
            <td class="hits"></td>
            <td class="code">        print(f"Updated AGENTS.md: {path}")</td>
          </tr>
          <tr id="line-309" class="uncovered line-anchor">
            <td class="line-num">309</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">else:</td>
          </tr>
          <tr id="line-310" class=" line-anchor">
            <td class="line-num">310</td>
            <td class="hits"></td>
            <td class="code">    print(f"Would update AGENTS.md: {path}")</td>
          </tr>
          <tr id="line-311" class="uncovered line-anchor">
            <td class="line-num">311</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">PY</td>
          </tr>
          <tr id="line-312" class=" line-anchor">
            <td class="line-num">312</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-313" class=" line-anchor">
            <td class="line-num">313</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-314" class=" line-anchor">
            <td class="line-num">314</td>
            <td class="hits"></td>
            <td class="code">cleanup_settings_json() {</td>
          </tr>
          <tr id="line-315" class="covered line-anchor">
            <td class="line-num">315</td>
            <td class="hits"><span class="hits-badge has-tooltip">51×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_preserves_non_beads_content</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_onboard_prompt</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_prime_hooks</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_keeps_beads_planning_without_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local file="$1"</td>
          </tr>
          <tr id="line-316" class="covered line-anchor">
            <td class="line-num">316</td>
            <td class="hits"><span class="hits-badge has-tooltip">51×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_preserves_non_beads_content</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_onboard_prompt</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_prime_hooks</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_keeps_beads_planning_without_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local kind="$2"</td>
          </tr>
          <tr id="line-317" class="covered line-anchor">
            <td class="line-num">317</td>
            <td class="hits"><span class="hits-badge has-tooltip">64×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_noop_if_no_file</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_preserves_non_beads_content</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_onboard_prompt</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_prime_hooks</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_keeps_beads_planning_without_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_beads_planning_if_has_beads_subdir</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_config_bd</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_removes_dot_beads</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$file" ]] || return 0</td>
          </tr>
          <tr id="line-318" class=" line-anchor">
            <td class="line-num">318</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-319" class="covered line-anchor">
            <td class="line-num">319</td>
            <td class="hits"><span class="hits-badge has-tooltip">38×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_preserves_non_beads_content</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_onboard_prompt</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_prime_hooks</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if ! command -v python3 &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-320" class="uncovered line-anchor">
            <td class="line-num">320</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    warn "python3 not found; skipping JSON cleanup for $file"</td>
          </tr>
          <tr id="line-321" class="uncovered line-anchor">
            <td class="line-num">321</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    return 0</td>
          </tr>
          <tr id="line-322" class=" line-anchor">
            <td class="line-num">322</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-323" class=" line-anchor">
            <td class="line-num">323</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-324" class="covered line-anchor">
            <td class="line-num">324</td>
            <td class="hits"><span class="hits-badge has-tooltip">38×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_dry_run_does_not_modify</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_preserves_non_beads_content</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_onboard_prompt</span></li><li><span class="hits-tooltip-file">cleanup_functions_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_settings_json_removes_bd_prime_hooks</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_home_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_home_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  APPLY="$APPLY" python3 - "$file" "$kind" &lt;&lt;'PY'</td>
          </tr>
          <tr id="line-325" class="uncovered line-anchor">
            <td class="line-num">325</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">import json, os, re, sys</td>
          </tr>
          <tr id="line-326" class=" line-anchor">
            <td class="line-num">326</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-327" class="uncovered line-anchor">
            <td class="line-num">327</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">path = sys.argv[1]</td>
          </tr>
          <tr id="line-328" class="uncovered line-anchor">
            <td class="line-num">328</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">kind = sys.argv[2]</td>
          </tr>
          <tr id="line-329" class="uncovered line-anchor">
            <td class="line-num">329</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">apply = os.environ.get("APPLY") == "1"</td>
          </tr>
          <tr id="line-330" class=" line-anchor">
            <td class="line-num">330</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-331" class="uncovered line-anchor">
            <td class="line-num">331</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">with open(path, "r", encoding="utf-8") as f:</td>
          </tr>
          <tr id="line-332" class="uncovered line-anchor">
            <td class="line-num">332</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    try:</td>
          </tr>
          <tr id="line-333" class=" line-anchor">
            <td class="line-num">333</td>
            <td class="hits"></td>
            <td class="code">        data = json.load(f)</td>
          </tr>
          <tr id="line-334" class="uncovered line-anchor">
            <td class="line-num">334</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    except Exception as e:</td>
          </tr>
          <tr id="line-335" class="uncovered line-anchor">
            <td class="line-num">335</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        print(f"Skipping {path}: failed to parse JSON ({e})")</td>
          </tr>
          <tr id="line-336" class=" line-anchor">
            <td class="line-num">336</td>
            <td class="hits"></td>
            <td class="code">        sys.exit(0)</td>
          </tr>
          <tr id="line-337" class=" line-anchor">
            <td class="line-num">337</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-338" class="uncovered line-anchor">
            <td class="line-num">338</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">changed = False</td>
          </tr>
          <tr id="line-339" class=" line-anchor">
            <td class="line-num">339</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-340" class="uncovered line-anchor">
            <td class="line-num">340</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">targets = {"bd prime", "bd prime --stealth"}</td>
          </tr>
          <tr id="line-341" class="uncovered line-anchor">
            <td class="line-num">341</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if kind == "claude":</td>
          </tr>
          <tr id="line-342" class="uncovered line-anchor">
            <td class="line-num">342</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    events = ["SessionStart", "PreCompact"]</td>
          </tr>
          <tr id="line-343" class="uncovered line-anchor">
            <td class="line-num">343</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">else:</td>
          </tr>
          <tr id="line-344" class="uncovered line-anchor">
            <td class="line-num">344</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    events = ["SessionStart", "PreCompress"]</td>
          </tr>
          <tr id="line-345" class=" line-anchor">
            <td class="line-num">345</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-346" class=" line-anchor">
            <td class="line-num">346</td>
            <td class="hits"></td>
            <td class="code">hooks = data.get("hooks")</td>
          </tr>
          <tr id="line-347" class="uncovered line-anchor">
            <td class="line-num">347</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if isinstance(hooks, dict):</td>
          </tr>
          <tr id="line-348" class="uncovered line-anchor">
            <td class="line-num">348</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    for event in list(events):</td>
          </tr>
          <tr id="line-349" class=" line-anchor">
            <td class="line-num">349</td>
            <td class="hits"></td>
            <td class="code">        event_hooks = hooks.get(event)</td>
          </tr>
          <tr id="line-350" class="uncovered line-anchor">
            <td class="line-num">350</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if not isinstance(event_hooks, list):</td>
          </tr>
          <tr id="line-351" class="uncovered line-anchor">
            <td class="line-num">351</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            continue</td>
          </tr>
          <tr id="line-352" class="uncovered line-anchor">
            <td class="line-num">352</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        new_event_hooks = []</td>
          </tr>
          <tr id="line-353" class="uncovered line-anchor">
            <td class="line-num">353</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        for hook in event_hooks:</td>
          </tr>
          <tr id="line-354" class="uncovered line-anchor">
            <td class="line-num">354</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            if not isinstance(hook, dict):</td>
          </tr>
          <tr id="line-355" class=" line-anchor">
            <td class="line-num">355</td>
            <td class="hits"></td>
            <td class="code">                new_event_hooks.append(hook)</td>
          </tr>
          <tr id="line-356" class="uncovered line-anchor">
            <td class="line-num">356</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                continue</td>
          </tr>
          <tr id="line-357" class=" line-anchor">
            <td class="line-num">357</td>
            <td class="hits"></td>
            <td class="code">            cmds = hook.get("hooks")</td>
          </tr>
          <tr id="line-358" class="uncovered line-anchor">
            <td class="line-num">358</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            if not isinstance(cmds, list):</td>
          </tr>
          <tr id="line-359" class=" line-anchor">
            <td class="line-num">359</td>
            <td class="hits"></td>
            <td class="code">                new_event_hooks.append(hook)</td>
          </tr>
          <tr id="line-360" class="uncovered line-anchor">
            <td class="line-num">360</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                continue</td>
          </tr>
          <tr id="line-361" class="uncovered line-anchor">
            <td class="line-num">361</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            new_cmds = []</td>
          </tr>
          <tr id="line-362" class="uncovered line-anchor">
            <td class="line-num">362</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            removed_any = False</td>
          </tr>
          <tr id="line-363" class="uncovered line-anchor">
            <td class="line-num">363</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            for cmd in cmds:</td>
          </tr>
          <tr id="line-364" class="uncovered line-anchor">
            <td class="line-num">364</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                if isinstance(cmd, dict) and cmd.get("command") in targets:</td>
          </tr>
          <tr id="line-365" class="uncovered line-anchor">
            <td class="line-num">365</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                    removed_any = True</td>
          </tr>
          <tr id="line-366" class="uncovered line-anchor">
            <td class="line-num">366</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                else:</td>
          </tr>
          <tr id="line-367" class=" line-anchor">
            <td class="line-num">367</td>
            <td class="hits"></td>
            <td class="code">                    new_cmds.append(cmd)</td>
          </tr>
          <tr id="line-368" class="uncovered line-anchor">
            <td class="line-num">368</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            if removed_any:</td>
          </tr>
          <tr id="line-369" class="uncovered line-anchor">
            <td class="line-num">369</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                changed = True</td>
          </tr>
          <tr id="line-370" class="uncovered line-anchor">
            <td class="line-num">370</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            if new_cmds:</td>
          </tr>
          <tr id="line-371" class="uncovered line-anchor">
            <td class="line-num">371</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">                hook["hooks"] = new_cmds</td>
          </tr>
          <tr id="line-372" class=" line-anchor">
            <td class="line-num">372</td>
            <td class="hits"></td>
            <td class="code">                new_event_hooks.append(hook)</td>
          </tr>
          <tr id="line-373" class="uncovered line-anchor">
            <td class="line-num">373</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if new_event_hooks != event_hooks:</td>
          </tr>
          <tr id="line-374" class="uncovered line-anchor">
            <td class="line-num">374</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            hooks[event] = new_event_hooks</td>
          </tr>
          <tr id="line-375" class="uncovered line-anchor">
            <td class="line-num">375</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            changed = True</td>
          </tr>
          <tr id="line-376" class="uncovered line-anchor">
            <td class="line-num">376</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if event in hooks and not hooks[event]:</td>
          </tr>
          <tr id="line-377" class="uncovered line-anchor">
            <td class="line-num">377</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            del hooks[event]</td>
          </tr>
          <tr id="line-378" class="uncovered line-anchor">
            <td class="line-num">378</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">            changed = True</td>
          </tr>
          <tr id="line-379" class="uncovered line-anchor">
            <td class="line-num">379</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    if not hooks:</td>
          </tr>
          <tr id="line-380" class=" line-anchor">
            <td class="line-num">380</td>
            <td class="hits"></td>
            <td class="code">        data.pop("hooks", None)</td>
          </tr>
          <tr id="line-381" class=" line-anchor">
            <td class="line-num">381</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-382" class="uncovered line-anchor">
            <td class="line-num">382</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">onboard = "Before starting any work, run 'bd onboard' to understand the current project state and available issues."</td>
          </tr>
          <tr id="line-383" class=" line-anchor">
            <td class="line-num">383</td>
            <td class="hits"></td>
            <td class="code">prompt = data.get("prompt")</td>
          </tr>
          <tr id="line-384" class="uncovered line-anchor">
            <td class="line-num">384</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if isinstance(prompt, str) and onboard in prompt:</td>
          </tr>
          <tr id="line-385" class="uncovered line-anchor">
            <td class="line-num">385</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    new_prompt = prompt.replace(onboard, "").strip()</td>
          </tr>
          <tr id="line-386" class="uncovered line-anchor">
            <td class="line-num">386</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    new_prompt = re.sub(r"\n{3,}", "\n\n", new_prompt).strip()</td>
          </tr>
          <tr id="line-387" class="uncovered line-anchor">
            <td class="line-num">387</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    if new_prompt:</td>
          </tr>
          <tr id="line-388" class="uncovered line-anchor">
            <td class="line-num">388</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        data["prompt"] = new_prompt</td>
          </tr>
          <tr id="line-389" class="uncovered line-anchor">
            <td class="line-num">389</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    else:</td>
          </tr>
          <tr id="line-390" class=" line-anchor">
            <td class="line-num">390</td>
            <td class="hits"></td>
            <td class="code">        data.pop("prompt", None)</td>
          </tr>
          <tr id="line-391" class="uncovered line-anchor">
            <td class="line-num">391</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    changed = True</td>
          </tr>
          <tr id="line-392" class=" line-anchor">
            <td class="line-num">392</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-393" class="uncovered line-anchor">
            <td class="line-num">393</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if not changed:</td>
          </tr>
          <tr id="line-394" class=" line-anchor">
            <td class="line-num">394</td>
            <td class="hits"></td>
            <td class="code">    sys.exit(0)</td>
          </tr>
          <tr id="line-395" class=" line-anchor">
            <td class="line-num">395</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-396" class="uncovered line-anchor">
            <td class="line-num">396</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">if apply:</td>
          </tr>
          <tr id="line-397" class="uncovered line-anchor">
            <td class="line-num">397</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    mode = os.stat(path).st_mode</td>
          </tr>
          <tr id="line-398" class="uncovered line-anchor">
            <td class="line-num">398</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    with open(path, "w", encoding="utf-8") as f:</td>
          </tr>
          <tr id="line-399" class=" line-anchor">
            <td class="line-num">399</td>
            <td class="hits"></td>
            <td class="code">        json.dump(data, f, indent=2, ensure_ascii=True)</td>
          </tr>
          <tr id="line-400" class=" line-anchor">
            <td class="line-num">400</td>
            <td class="hits"></td>
            <td class="code">        f.write("\n")</td>
          </tr>
          <tr id="line-401" class=" line-anchor">
            <td class="line-num">401</td>
            <td class="hits"></td>
            <td class="code">    os.chmod(path, mode)</td>
          </tr>
          <tr id="line-402" class=" line-anchor">
            <td class="line-num">402</td>
            <td class="hits"></td>
            <td class="code">    print(f"Updated settings: {path}")</td>
          </tr>
          <tr id="line-403" class="uncovered line-anchor">
            <td class="line-num">403</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">else:</td>
          </tr>
          <tr id="line-404" class=" line-anchor">
            <td class="line-num">404</td>
            <td class="hits"></td>
            <td class="code">    print(f"Would update settings: {path}")</td>
          </tr>
          <tr id="line-405" class="uncovered line-anchor">
            <td class="line-num">405</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">PY</td>
          </tr>
          <tr id="line-406" class=" line-anchor">
            <td class="line-num">406</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-407" class=" line-anchor">
            <td class="line-num">407</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-408" class=" line-anchor">
            <td class="line-num">408</td>
            <td class="hits"></td>
            <td class="code">rmdir_if_empty() {</td>
          </tr>
          <tr id="line-409" class="covered line-anchor">
            <td class="line-num">409</td>
            <td class="hits"><span class="hits-badge has-tooltip">51×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_keeps_nonempty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_noop_for_nonexistent</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local dir="$1"</td>
          </tr>
          <tr id="line-410" class="covered line-anchor">
            <td class="line-num">410</td>
            <td class="hits"><span class="hits-badge has-tooltip">52×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_keeps_nonempty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_noop_for_nonexistent</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -d "$dir" ]] || return 0</td>
          </tr>
          <tr id="line-411" class="covered line-anchor">
            <td class="line-num">411</td>
            <td class="hits"><span class="hits-badge has-tooltip">100×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_keeps_nonempty_dir</span></li><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -z "$(ls -A "$dir" 2&gt;/dev/null)" ]]; then</td>
          </tr>
          <tr id="line-412" class="covered line-anchor">
            <td class="line-num">412</td>
            <td class="hits"><span class="hits-badge has-tooltip">46×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">action_functions_test.sh</span>:<span class="hits-tooltip-fn">test_rmdir_if_empty_removes_empty_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    run_rm "$dir"</td>
          </tr>
          <tr id="line-413" class=" line-anchor">
            <td class="line-num">413</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-414" class=" line-anchor">
            <td class="line-num">414</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-415" class=" line-anchor">
            <td class="line-num">415</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-416" class=" line-anchor">
            <td class="line-num">416</td>
            <td class="hits"></td>
            <td class="code">stop_daemon_pid_file() {</td>
          </tr>
          <tr id="line-417" class="covered line-anchor">
            <td class="line-num">417</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local pid_file="$1"</td>
          </tr>
          <tr id="line-418" class="covered line-anchor">
            <td class="line-num">418</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -f "$pid_file" ]] || return 0</td>
          </tr>
          <tr id="line-419" class=" line-anchor">
            <td class="line-num">419</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-420" class="covered line-anchor">
            <td class="line-num">420</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local pid</td>
          </tr>
          <tr id="line-421" class="covered line-anchor">
            <td class="line-num">421</td>
            <td class="hits"><span class="hits-badge has-tooltip">32×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  pid="$(tr -d '[:space:]' &lt; "$pid_file" 2&gt;/dev/null || true)"</td>
          </tr>
          <tr id="line-422" class="covered line-anchor">
            <td class="line-num">422</td>
            <td class="hits"><span class="hits-badge has-tooltip">32×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ "$pid" =~ ^[0-9]+$ ]] || return 0</td>
          </tr>
          <tr id="line-423" class=" line-anchor">
            <td class="line-num">423</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-424" class="uncovered line-anchor">
            <td class="line-num">424</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">  if ps -p "$pid" &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-425" class="uncovered line-anchor">
            <td class="line-num">425</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    local cmd</td>
          </tr>
          <tr id="line-426" class="uncovered line-anchor">
            <td class="line-num">426</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    cmd="$(ps -p "$pid" -o comm= 2&gt;/dev/null | tr -d '[:space:]' || true)"</td>
          </tr>
          <tr id="line-427" class="uncovered line-anchor">
            <td class="line-num">427</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">    if [[ "$cmd" == *bd* ]]; then</td>
          </tr>
          <tr id="line-428" class="uncovered line-anchor">
            <td class="line-num">428</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      run kill "$pid"</td>
          </tr>
          <tr id="line-429" class="uncovered line-anchor">
            <td class="line-num">429</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      if [[ "$APPLY" -eq 1 ]]; then</td>
          </tr>
          <tr id="line-430" class="uncovered line-anchor">
            <td class="line-num">430</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        sleep 0.2 || true</td>
          </tr>
          <tr id="line-431" class="uncovered line-anchor">
            <td class="line-num">431</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if ps -p "$pid" &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-432" class="uncovered line-anchor">
            <td class="line-num">432</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          run kill -9 "$pid"</td>
          </tr>
          <tr id="line-433" class=" line-anchor">
            <td class="line-num">433</td>
            <td class="hits"></td>
            <td class="code">        fi</td>
          </tr>
          <tr id="line-434" class=" line-anchor">
            <td class="line-num">434</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-435" class=" line-anchor">
            <td class="line-num">435</td>
            <td class="hits"></td>
            <td class="code">    else</td>
          </tr>
          <tr id="line-436" class="uncovered line-anchor">
            <td class="line-num">436</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">      warn "PID $pid from $pid_file does not look like bd; skipping"</td>
          </tr>
          <tr id="line-437" class=" line-anchor">
            <td class="line-num">437</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-438" class=" line-anchor">
            <td class="line-num">438</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-439" class=" line-anchor">
            <td class="line-num">439</td>
            <td class="hits"></td>
            <td class="code">}</td>
          </tr>
          <tr id="line-440" class=" line-anchor">
            <td class="line-num">440</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-441" class=" line-anchor">
            <td class="line-num">441</td>
            <td class="hits"></td>
            <td class="code">cleanup_repo() {</td>
          </tr>
          <tr id="line-442" class="covered line-anchor">
            <td class="line-num">442</td>
            <td class="hits"><span class="hits-badge has-tooltip">17×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_noop_for_nonexistent_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  local repo="$1"</td>
          </tr>
          <tr id="line-443" class="covered line-anchor">
            <td class="line-num">443</td>
            <td class="hits"><span class="hits-badge has-tooltip">18×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_noop_for_nonexistent_dir</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  [[ -d "$repo" ]] || return 0</td>
          </tr>
          <tr id="line-444" class=" line-anchor">
            <td class="line-num">444</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-445" class=" line-anchor">
            <td class="line-num">445</td>
            <td class="hits"></td>
            <td class="code">  CLEANED_REPOS+=("$repo")</td>
          </tr>
          <tr id="line-446" class="covered line-anchor">
            <td class="line-num">446</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  log_section "Repo: $repo"</td>
          </tr>
          <tr id="line-447" class=" line-anchor">
            <td class="line-num">447</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-448" class=" line-anchor">
            <td class="line-num">448</td>
            <td class="hits"></td>
            <td class="code">  # Stop daemon if running</td>
          </tr>
          <tr id="line-449" class="covered line-anchor">
            <td class="line-num">449</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  stop_daemon_pid_file "$repo/.beads/daemon.pid"</td>
          </tr>
          <tr id="line-450" class=" line-anchor">
            <td class="line-num">450</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-451" class=" line-anchor">
            <td class="line-num">451</td>
            <td class="hits"></td>
            <td class="code">  # Remove project integration files</td>
          </tr>
          <tr id="line-452" class="covered line-anchor">
            <td class="line-num">452</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  cleanup_agents_file "$repo/AGENTS.md"</td>
          </tr>
          <tr id="line-453" class="covered line-anchor">
            <td class="line-num">453</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  cleanup_settings_json "$repo/.claude/settings.local.json" "claude"</td>
          </tr>
          <tr id="line-454" class="covered line-anchor">
            <td class="line-num">454</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  cleanup_settings_json "$repo/.gemini/settings.json" "gemini"</td>
          </tr>
          <tr id="line-455" class=" line-anchor">
            <td class="line-num">455</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-456" class="covered line-anchor">
            <td class="line-num">456</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -f "$repo/.cursor/rules/beads.mdc" ]]; then</td>
          </tr>
          <tr id="line-457" class="covered line-anchor">
            <td class="line-num">457</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    run_rm "$repo/.cursor/rules/beads.mdc"</td>
          </tr>
          <tr id="line-458" class=" line-anchor">
            <td class="line-num">458</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-459" class="covered line-anchor">
            <td class="line-num">459</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -f "$repo/.aider.conf.yml" ]]; then</td>
          </tr>
          <tr id="line-460" class="covered line-anchor">
            <td class="line-num">460</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if grep -qi 'beads\|bd ' "$repo/.aider.conf.yml" 2&gt;/dev/null; then</td>
          </tr>
          <tr id="line-461" class="covered line-anchor">
            <td class="line-num">461</td>
            <td class="hits"><span class="hits-badge has-tooltip">15×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      run_rm "$repo/.aider.conf.yml"</td>
          </tr>
          <tr id="line-462" class=" line-anchor">
            <td class="line-num">462</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-463" class=" line-anchor">
            <td class="line-num">463</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-464" class="covered line-anchor">
            <td class="line-num">464</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -f "$repo/.aider/BEADS.md" ]]; then</td>
          </tr>
          <tr id="line-465" class="covered line-anchor">
            <td class="line-num">465</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    run_rm "$repo/.aider/BEADS.md"</td>
          </tr>
          <tr id="line-466" class=" line-anchor">
            <td class="line-num">466</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-467" class="covered line-anchor">
            <td class="line-num">467</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -f "$repo/.aider/README.md" ]]; then</td>
          </tr>
          <tr id="line-468" class="covered line-anchor">
            <td class="line-num">468</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if grep -qi 'beads\|bd ' "$repo/.aider/README.md" 2&gt;/dev/null; then</td>
          </tr>
          <tr id="line-469" class="covered line-anchor">
            <td class="line-num">469</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      run_rm "$repo/.aider/README.md"</td>
          </tr>
          <tr id="line-470" class=" line-anchor">
            <td class="line-num">470</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-471" class=" line-anchor">
            <td class="line-num">471</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-472" class="covered line-anchor">
            <td class="line-num">472</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  rmdir_if_empty "$repo/.aider"</td>
          </tr>
          <tr id="line-473" class="covered line-anchor">
            <td class="line-num">473</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  rmdir_if_empty "$repo/.cursor/rules"</td>
          </tr>
          <tr id="line-474" class="covered line-anchor">
            <td class="line-num">474</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  rmdir_if_empty "$repo/.cursor"</td>
          </tr>
          <tr id="line-475" class=" line-anchor">
            <td class="line-num">475</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-476" class=" line-anchor">
            <td class="line-num">476</td>
            <td class="hits"></td>
            <td class="code">  # Git-related cleanup</td>
          </tr>
          <tr id="line-477" class="covered line-anchor">
            <td class="line-num">477</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if command -v git &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-478" class="covered line-anchor">
            <td class="line-num">478</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    local git_common_dir=""</td>
          </tr>
          <tr id="line-479" class="covered line-anchor">
            <td class="line-num">479</td>
            <td class="hits"><span class="hits-badge has-tooltip">32×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    git_common_dir="$(git -C "$repo" rev-parse --git-common-dir 2&gt;/dev/null || true)"</td>
          </tr>
          <tr id="line-480" class=" line-anchor">
            <td class="line-num">480</td>
            <td class="hits"></td>
            <td class="code">    # Resolve relative paths (e.g. ".git") against the repo root</td>
          </tr>
          <tr id="line-481" class="covered line-anchor">
            <td class="line-num">481</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if [[ -n "$git_common_dir" &amp;&amp; "$git_common_dir" != /* ]]; then</td>
          </tr>
          <tr id="line-482" class="covered line-anchor">
            <td class="line-num">482</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      git_common_dir="$repo/$git_common_dir"</td>
          </tr>
          <tr id="line-483" class=" line-anchor">
            <td class="line-num">483</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-484" class="covered line-anchor">
            <td class="line-num">484</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">    if [[ -n "$git_common_dir" ]]; then</td>
          </tr>
          <tr id="line-485" class=" line-anchor">
            <td class="line-num">485</td>
            <td class="hits"></td>
            <td class="code">      # hooks</td>
          </tr>
          <tr id="line-486" class="covered line-anchor">
            <td class="line-num">486</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      cleanup_hooks_dir "$git_common_dir/hooks"</td>
          </tr>
          <tr id="line-487" class=" line-anchor">
            <td class="line-num">487</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-488" class=" line-anchor">
            <td class="line-num">488</td>
            <td class="hits"></td>
            <td class="code">      # core.hooksPath -&gt; .beads-hooks</td>
          </tr>
          <tr id="line-489" class="covered line-anchor">
            <td class="line-num">489</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      local hooks_path=""</td>
          </tr>
          <tr id="line-490" class="covered line-anchor">
            <td class="line-num">490</td>
            <td class="hits"><span class="hits-badge has-tooltip">48×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      hooks_path="$(git -C "$repo" config --get core.hooksPath 2&gt;/dev/null || true)"</td>
          </tr>
          <tr id="line-491" class="covered line-anchor">
            <td class="line-num">491</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      if [[ -n "$hooks_path" ]]; then</td>
          </tr>
          <tr id="line-492" class="uncovered line-anchor">
            <td class="line-num">492</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        local abs_hooks_path="$hooks_path"</td>
          </tr>
          <tr id="line-493" class="uncovered line-anchor">
            <td class="line-num">493</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if [[ "$hooks_path" != /* ]]; then</td>
          </tr>
          <tr id="line-494" class="uncovered line-anchor">
            <td class="line-num">494</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          abs_hooks_path="$repo/$hooks_path"</td>
          </tr>
          <tr id="line-495" class=" line-anchor">
            <td class="line-num">495</td>
            <td class="hits"></td>
            <td class="code">        fi</td>
          </tr>
          <tr id="line-496" class="uncovered line-anchor">
            <td class="line-num">496</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        cleanup_hooks_dir "$abs_hooks_path"</td>
          </tr>
          <tr id="line-497" class="uncovered line-anchor">
            <td class="line-num">497</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        if [[ "$hooks_path" == ".beads-hooks" || "$hooks_path" == */.beads-hooks ]]; then</td>
          </tr>
          <tr id="line-498" class="uncovered line-anchor">
            <td class="line-num">498</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">          run git -C "$repo" config --unset core.hooksPath</td>
          </tr>
          <tr id="line-499" class=" line-anchor">
            <td class="line-num">499</td>
            <td class="hits"></td>
            <td class="code">        fi</td>
          </tr>
          <tr id="line-500" class=" line-anchor">
            <td class="line-num">500</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-501" class=" line-anchor">
            <td class="line-num">501</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-502" class=" line-anchor">
            <td class="line-num">502</td>
            <td class="hits"></td>
            <td class="code">      # merge driver config</td>
          </tr>
          <tr id="line-503" class="covered line-anchor">
            <td class="line-num">503</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      if git -C "$repo" config --get merge.beads.driver &gt;/dev/null 2&gt;&amp;1; then</td>
          </tr>
          <tr id="line-504" class="covered line-anchor">
            <td class="line-num">504</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">        run git -C "$repo" config --unset merge.beads.driver</td>
          </tr>
          <tr id="line-505" class="covered line-anchor">
            <td class="line-num">505</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">        run git -C "$repo" config --unset merge.beads.name || true</td>
          </tr>
          <tr id="line-506" class=" line-anchor">
            <td class="line-num">506</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-507" class=" line-anchor">
            <td class="line-num">507</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-508" class="covered line-anchor">
            <td class="line-num">508</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      cleanup_gitattributes "$repo"</td>
          </tr>
          <tr id="line-509" class="covered line-anchor">
            <td class="line-num">509</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      cleanup_exclude "$git_common_dir"</td>
          </tr>
          <tr id="line-510" class=" line-anchor">
            <td class="line-num">510</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-511" class=" line-anchor">
            <td class="line-num">511</td>
            <td class="hits"></td>
            <td class="code">      # sync worktrees</td>
          </tr>
          <tr id="line-512" class="covered line-anchor">
            <td class="line-num">512</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">      if [[ -d "$git_common_dir/beads-worktrees" ]]; then</td>
          </tr>
          <tr id="line-513" class="uncovered line-anchor">
            <td class="line-num">513</td>
            <td class="hits"><span class="hits-badge">0×</span></td>
            <td class="code">        run_rm "$git_common_dir/beads-worktrees"</td>
          </tr>
          <tr id="line-514" class=" line-anchor">
            <td class="line-num">514</td>
            <td class="hits"></td>
            <td class="code">      fi</td>
          </tr>
          <tr id="line-515" class=" line-anchor">
            <td class="line-num">515</td>
            <td class="hits"></td>
            <td class="code">    fi</td>
          </tr>
          <tr id="line-516" class=" line-anchor">
            <td class="line-num">516</td>
            <td class="hits"></td>
            <td class="code">  fi</td>
          </tr>
          <tr id="line-517" class=" line-anchor">
            <td class="line-num">517</td>
            <td class="hits"></td>
            <td class="code"></td>
          </tr>
          <tr id="line-518" class=" line-anchor">
            <td class="line-num">518</td>
            <td class="hits"></td>
            <td class="code">  # Remove beads directories</td>
          </tr>
          <tr id="line-519" class="covered line-anchor">
            <td class="line-num">519</td>
            <td class="hits"><span class="hits-badge has-tooltip">16×<div class="hits-tooltip"><div class="hits-tooltip-title">Tests hitting this line</div><ul class="hits-tooltip-list"><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_agents_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_claude_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gemini_settings</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_git_exclude</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_cleans_gitattributes</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_dry_run_preserves_everything</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_increments_stats</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_preserves_non_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_aider_beads_md</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_conf</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_aider_readme</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_directories</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_beads_hooks</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_cursor_beads_mdc</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_removes_merge_driver_config</span></li><li><span class="hits-tooltip-file">cleanup_repo_test.sh</span>:<span class="hits-tooltip-fn">test_cleanup_repo_tracks_repo_in_cleaned_repos</span></li></ul></div></span></td>
            <td class="code">  if [[ -d "$repo/.beads-hooks" ]]; then</td>
          </tr>
[33mCaught Ctrl-C, killing all child processes...[0m
